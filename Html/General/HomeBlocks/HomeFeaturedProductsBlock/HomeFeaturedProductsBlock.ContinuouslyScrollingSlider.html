/*
*	Renders a block containing list of featured products.
*/
[Website.FeaturedProducts,1,,'Name',Ascending]
[?Filter.Empty|no=
<div class="featured-products-block home-block continuously-scrolling">
	<div class="block-title"><h3>[_Featured Products] </h3></div>
	<ul class="products-grid inline-list" id="featured_cs_carousel">
		[Filter.Products=
			<li class="item">
				<div class="item-wrapper">
					<a title="[Product.Name]" href="[Website.GetUrl,Product,[Product.Id]]">
						<img class="product-image" width="110" data-src="holder.js/300x200" src="/[Product.ThumbnailImage=[ProductImage.ImageUrl,140,150]]" alt="">
					</a>
					<div class="product-details">
						<a title="[Product.Name]" class="product-name" href="[Website.GetUrl,Product,[Product.Id]]">
							<h4>[Product.Name]</h4>
						</a>
						<div class="product_price-container in-block">
							<div class="price-box"><span class="price">[:PriceBlock?Product.Sale]</span></div>
						</div>
				  	</div>
				  </div>
			</li>
		]
	</ul>
	/*<a class="prev" id="featured_cs_prev" href="#"><span>prev</span></a>
	<a class="play" id="play" href="#"></a>
	<a class="next" id="featured_cs_next" href="#"><span>next</span></a>
	<div class="pager" id="featured_cs_pager"></div>*/
</div>

<script type="text/javascript">
jQuery(function() {
	jQuery('#featured_cs_carousel').carouFredSel({
		width: '100%',
		items: 4,
		scroll: {
			pauseOnHover: true,
			onBefore: function() {
				jQuery(this).children().removeClass( 'hover' );
			}
		},
		prev: {
			button: '#featured_cs_prev',
			items: 1
		},
		next: {
			button: '#featured_cs_next',
			items: 1
		},
		auto: {
			items: 1,
			easing: 'linear',
			duration: 3000,
			timeoutDuration: 0,
			button: '#play',
		},
		pagination: {
			container: '#featured_cs_pager',
			items: 1,
			duration: 0.5,
			queue: 'last',
			onAfter: function() {
				var cur = jQuery(this).triggerHandler( 'currentVisible' ),
					mid = Math.floor( cur.length / 2 );
 
				cur.eq( mid ).addClass( 'hover' );
			}
		}
	});
 
});
</script>
]
