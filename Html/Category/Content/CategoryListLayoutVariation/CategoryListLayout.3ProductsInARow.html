/*
*		Renders the layout of product listings in a certain category.
*
*/
/** -------------------------------------------------------------------
Name:              CategoryListLayout.3ProductsInARow
Location:          /Html/Category/Content/CategoryListLayoutVariation/CategoryListLayout.3ProductsInARow.html
Created By:        Leslie Canete
Created At:        09-Okt-2014 16:49 (categorylistlayoutvariation, categorysidenavigation, checkouttype, change to button style)
Last modified By:  Seth Malaki
Last modified At:  23-Okt-2014 17:52 (myupdates in adding comments)
Possible call:    mainContent.AdvancedSearchResult 	mainContent.BestRated 	mainContent.BestSellers 	mainContent.Brand 	mainContent.Category 	mainContent.Featured 	mainContent.MostInteresting 	mainContent.MostViewed 	mainContent.New 	mainContent.OthersAreViewing 	mainContent.RecentlyViewed 	mainContent.Sales 	mainContent.Search 	mainContent.Tag 	
Calling blocks:    ProductListItem(2) 	
--------------------------------------------------------------------**/

/*
[?UserInput.CatalogMode|list=
	<div class="product-list">
		<ul class="list">
		[Filter.Products=
			<li class="product-item">
				[:ProductListItem]
			</li>
			]
		</ul>
	</div>
|Grid=
	<div class="product-list-three_products_in_a_row">
		<ul class="grid">
			[Filter.Products=
				<li class="product-item in-block">
					[:ProductListItem]
				</li>
			]
		</ul>
	</div>
]
*/

[?UserInput.CatalogMode
	|list=
		<div class="product-list">
			<ul class="list">
			[Filter.Products=
				<li class="product-item">
					[:ProductListItem]
				</li>
			]
			</ul>
		</div>
	|Grid=
		<div class="product-list">
			<ul class="grid">
				[Filter.Products=
					[:ProductListItem.Elegant]
				]
			</ul>
		</div>
]
<script type="text/javascript">
	jQuery(document).ready(function(){
		var width_container = jQuery(".product-list").width();
		var variation = ".minimalist";

		var width = jQuery(variation).width();
		var count = parseInt(width_container / width);

		var margin =parseInt( width_container - (width*count) );

		jQuery(variation).each(function(index,el){
			console.log(el);
			if((index+1)%count == 0){
				jQuery(el).addClass('last');
			}
		});
		
	});
</script>